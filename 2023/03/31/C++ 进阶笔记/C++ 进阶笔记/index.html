

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/Github.png">
  <link rel="icon" href="/img/Github.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Ling yi">
  <meta name="keywords" content="">
  
    <meta name="description" content="C++的进阶语法">
<meta property="og:type" content="article">
<meta property="og:title" content="C++ 进阶笔记">
<meta property="og:url" content="https://anonymouslosty.github.io/2023/03/31/C++%20%E8%BF%9B%E9%98%B6%E7%AC%94%E8%AE%B0/C++%20%E8%BF%9B%E9%98%B6%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="anonymouslosty的Blog">
<meta property="og:description" content="C++的进阶语法">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://anonymouslosty.github.io/img/C++_PtArray.png">
<meta property="og:image" content="https://anonymouslosty.github.io/img/C++_PtArray2.jpg">
<meta property="article:published_time" content="2023-03-31T11:07:08.000Z">
<meta property="article:modified_time" content="2023-04-02T12:50:08.304Z">
<meta property="article:author" content="Ling yi">
<meta property="article:tag" content="C++">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://anonymouslosty.github.io/img/C++_PtArray.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>C++ 进阶笔记 - anonymouslosty的Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"anonymouslosty.github.io","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 80vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>anonymouslosty的Blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/band.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="C++ 进阶笔记"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-03-31 19:07" pubdate>
          2023年3月31日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          21k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          173 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
        <div class="scroll-down-bar">
          <i class="iconfont icon-arrowdown"></i>
        </div>
      
    </div>
  </div>
</div>

</div>

    <a target="_blank" rel="noopener" href="https://github.com/anonymouslosty" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#fff; color:#151513; position: absolute; top: 0; border: 0; right: 0; z-index: 1031;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">C++ 进阶笔记</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="C-进阶笔记"><a href="#C-进阶笔记" class="headerlink" title="C++进阶笔记"></a>C++进阶笔记</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>​    数组是具有一定顺序关系的若干对象的集合。</p>
<p>​    <code>array[N]</code>  数组的下标从<code>0</code>开始。</p>
<h3 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h3><p>​    <strong>数据类型 标识符 [常量表达式1] [常量表达式2]</strong></p>
<p>​    数据类型: 整型、浮点型、<strong>结构体</strong>、<strong>类</strong>等</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>​    <strong>数组名 [常量表达式1] [常量表达式2]</strong></p>
<h4 id="范围for循环"><a href="#范围for循环" class="headerlink" title="范围for循环"></a>范围for循环</h4><p>​    对给定序列中每一个元素按序列中元素的顺序逐一访问，配合<code>auto</code>自动判断元素类型。用来实现数组元素的快速遍历。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span>(<span class="hljs-type">const</span> <span class="hljs-keyword">auto</span>&amp;e : a)&#123;<br>    cout &lt;&lt; e &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-comment">//二维数组</span><br><span class="hljs-type">int</span> arry[][<span class="hljs-number">3</span>] = &#123; &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;,&#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125; &#125;;<br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> (&amp;row)[<span class="hljs-number">3</span>] : arry) &#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> &amp;e : row) &#123;<br>			cout &lt;&lt; e &lt;&lt; endl;<br>		&#125;<br>	&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;row : arry) &#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> &amp;e : row) &#123;<br>			cout &lt;&lt; e &lt;&lt; endl;<br>		&#125;<br>	&#125;<br></code></pre></td></tr></table></figure>

<h4 id="下标迭代for循环"><a href="#下标迭代for循环" class="headerlink" title="下标迭代for循环"></a>下标迭代for循环</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)&#123;<br>    cout &lt;&lt; b[i] &lt;&lt; endl;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="关于二维数组"><a href="#关于二维数组" class="headerlink" title="关于二维数组"></a>关于二维数组</h3><p>​    C++中二维数组被当作一维的数组，<code>int m[2][3]</code>可以看作大小是<code>2</code>，每个元素都是一个大小为<code>3</code>，类型为<code>int</code>类型的数组。</p>
<h4 id="数组定义"><a href="#数组定义" class="headerlink" title="数组定义"></a>数组定义</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> a[<span class="hljs-number">3</span>]= &#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125;;<br><span class="hljs-type">int</span> a[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>&#125;;<br><span class="hljs-type">int</span> a[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125;;<br><span class="hljs-type">int</span> a[<span class="hljs-number">2</span>][<span class="hljs-number">3</span>] = &#123;&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;,&#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125;&#125;;<br><span class="hljs-type">int</span> a[][<span class="hljs-number">3</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125;;<br><span class="hljs-type">int</span> a[][<span class="hljs-number">3</span>] = &#123;&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;,&#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125;&#125;;<br><br><span class="hljs-comment">//对象数组 注意有缺省值的时候，需要适当改动默认构造函数</span><br>Location loc[<span class="hljs-number">2</span>] =&#123;<span class="hljs-built_in">Location</span>(<span class="hljs-number">3</span>,<span class="hljs-number">4</span>),<span class="hljs-built_in">Location</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>)&#125;<br><br></code></pre></td></tr></table></figure>



<h3 id="数组作为函数参数"><a href="#数组作为函数参数" class="headerlink" title="数组作为函数参数"></a>数组作为函数参数</h3><p>​    传递的是<strong>地址</strong>。数组作为参数时，函数里一般不指定第一维的大小。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>​    <strong>注意.h文件的 def</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// Point.h 类的定义</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> _POINT_H</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> _POINT_H</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> x, y;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Point</span>();<br>	~<span class="hljs-built_in">Point</span>();<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y);<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getX</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> x; &#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getY</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> y; &#125;<br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">movePoints</span><span class="hljs-params">(<span class="hljs-type">int</span> newX, <span class="hljs-type">int</span> newY)</span></span>;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//Point.cpp</span><br><span class="hljs-comment">//Point.h 类的具体实现</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;Point.h&quot;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br>Point::<span class="hljs-built_in">Point</span>():<span class="hljs-built_in">x</span>(<span class="hljs-number">0</span>),<span class="hljs-built_in">y</span>(<span class="hljs-number">0</span>) &#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;Deafult constructor called.&quot;</span> &lt;&lt; endl;<br>&#125;<br><br>Point::~<span class="hljs-built_in">Point</span>() &#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;Destructor called&quot;</span> &lt;&lt; endl;<br>&#125;<br><br>Point::<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y):<span class="hljs-built_in">x</span>(x),<span class="hljs-built_in">y</span>(y)&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;Constructor called&quot;</span> &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Point::movePoints</span><span class="hljs-params">(<span class="hljs-type">int</span> newX, <span class="hljs-type">int</span> newY)</span> </span>&#123;<br>	x = newX;<br>	y = newY;<br>	cout &lt;&lt; <span class="hljs-string">&quot;Move to new Points(&quot;</span> &lt;&lt; newX &lt;&lt; <span class="hljs-string">&quot;,&quot;</span> &lt;&lt; newY &lt;&lt; <span class="hljs-string">&quot;)&quot;</span> &lt;&lt; endl;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//主函数 .cpp</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;Point.h&quot;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	Point a[<span class="hljs-number">2</span>];<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span>; i++)&#123;<br>		a[i].<span class="hljs-built_in">movePoints</span>(i + <span class="hljs-number">10</span>, i + <span class="hljs-number">11</span>);<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="实例2"><a href="#实例2" class="headerlink" title="实例2"></a>实例2</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//Point.h 类的定义 头文件</span><br><span class="hljs-comment">//注意使用了友元函数 linefit函数中，可以直接访问 x,y</span><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> _Point_H</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> _Point_H</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">float</span> x = <span class="hljs-number">0</span>, <span class="hljs-type">float</span> y = <span class="hljs-number">0</span>) :<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;&#125;<br>	<span class="hljs-function"><span class="hljs-type">float</span> <span class="hljs-title">getX</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> x; &#125;<br>	<span class="hljs-function"><span class="hljs-type">float</span> <span class="hljs-title">getY</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> y; &#125;<br>	<span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-type">float</span> <span class="hljs-title">lineFit</span><span class="hljs-params">(<span class="hljs-type">const</span> Point points[], <span class="hljs-type">int</span> nPoint)</span></span>;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">float</span> x, y;<br>&#125;;<br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span></span><br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//main.cpp</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&quot;Point.h&quot;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-comment">//友元函数 直接访问Point的私有属性 x,y</span><br><span class="hljs-function"><span class="hljs-type">float</span> <span class="hljs-title">lineFit</span><span class="hljs-params">(<span class="hljs-type">const</span> Point points[], <span class="hljs-type">int</span> nPoint)</span> </span>&#123;<br>	<span class="hljs-type">float</span> avgX = <span class="hljs-number">0</span>, avgY = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">float</span> lxx = <span class="hljs-number">0</span>, lyy = <span class="hljs-number">0</span>, lxy = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; nPoint; i++)&#123;<br>		avgX += points[i].x/nPoint;<br>		avgY += points[i].y/nPoint;<br>	&#125;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; nPoint; i++)&#123;<br>		lxx += (points[i].x - avgX) * (points[i].x - avgX);<br>		lyy += (points[i].y - avgY) * (points[i].y - avgY);<br>		lxy += (points[i].x - avgX) * (points[i].y - avgY);<br>	&#125;<br>	cout &lt;&lt; <span class="hljs-string">&quot;This lien can be fitted by y=ax+b.&quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;a=&quot;</span> &lt;&lt; lxy / lxx &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; endl;<br>	cout &lt;&lt; <span class="hljs-string">&quot;b=&quot;</span> &lt;&lt; avgY - lxy * avgX / lxx &lt;&lt; endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">float</span>&gt;(lxy / <span class="hljs-built_in">sqrt</span>(lxx * lyy));<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	Point p[<span class="hljs-number">10</span>] = &#123; <span class="hljs-built_in">Point</span>(<span class="hljs-number">6</span>,<span class="hljs-number">10</span>),<span class="hljs-built_in">Point</span>(<span class="hljs-number">14</span>,<span class="hljs-number">20</span>), <span class="hljs-built_in">Point</span>(<span class="hljs-number">26</span>,<span class="hljs-number">30</span>), <span class="hljs-built_in">Point</span>(<span class="hljs-number">33</span>,<span class="hljs-number">40</span>),<span class="hljs-built_in">Point</span>(<span class="hljs-number">46</span>,<span class="hljs-number">50</span>),<span class="hljs-built_in">Point</span>(<span class="hljs-number">54</span>,<span class="hljs-number">60</span>),<span class="hljs-built_in">Point</span>(<span class="hljs-number">67</span>,<span class="hljs-number">70</span>),<span class="hljs-built_in">Point</span>(<span class="hljs-number">75</span>,<span class="hljs-number">80</span>),<span class="hljs-built_in">Point</span>(<span class="hljs-number">84</span>,<span class="hljs-number">90</span>), <span class="hljs-built_in">Point</span>(<span class="hljs-number">100</span>,<span class="hljs-number">100</span>) &#125;;<br>	<span class="hljs-type">float</span> r = <span class="hljs-built_in">lineFit</span>(p, <span class="hljs-number">10</span>);<br>	cout &lt;&lt; <span class="hljs-string">&quot;Line coefficient r=&quot;</span> &lt;&lt; r &lt;&lt; endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="指针"><a href="#指针" class="headerlink" title="指针"></a><strong>指针</strong></h2><p>​    <strong>指针</strong>也是一种数据类型，具有指针类型的变量称为<strong>指针变量</strong>，指针变量是用来存放<strong>内存单元地址</strong>的。</p>
<h3 id="声明-1"><a href="#声明-1" class="headerlink" title="声明"></a>声明</h3><p>​    <strong>数据类型 *标识符</strong></p>
<p>​    <strong>数据类型</strong>可以是任意类型，代表指针所指向的对象的类型。</p>
<p>​    举例:</p>
<p>​    <code>int *ptr</code></p>
<p>​         定义了一个指向<code>int</code>类型数据的指针变量，这个指针的名字是<code>ptr</code>，存放<code>int</code>型数据的地址。</p>
<h4 id="与地址相关的运算-和-amp"><a href="#与地址相关的运算-和-amp" class="headerlink" title="与地址相关的运算 * 和 &amp;"></a>与地址相关的运算 * 和 &amp;</h4><p>​    <strong>*</strong> 表示获取指针变量所指向的值，一元操作符。</p>
<p>​    <strong>&amp;</strong> 表示获得一个对象的地址，一元操作符。</p>
<p>​    <em><strong>注意：</strong></em></p>
<p>​        <strong>*</strong> 出现在声明语句中，在被声明的变量名之前时，表面声明的是指针。</p>
<p>​         <code>int *p</code> 声明指针变量<code>p</code></p>
<p>​        <strong>*</strong> 出现在执行语句中或者声明语句的初值表达式中作为一元运算符时，表示指针所访问的对象的内容。</p>
<p>​         <code>cout&lt;&lt; *p</code>  打印<code>p</code>所指向的内存单元的值</p>
<p>​        <strong>&amp;</strong> 出现在<strong>变量声明语句</strong>中位于<strong>被声明变量的左边</strong>时，表示声明的是<strong>引用</strong>。</p>
<p>​        <code>int &amp;rf</code>  表明<code>rf</code>是个引用</p>
<p>​        <strong>&amp;</strong> 在<strong>给变量赋初值</strong>的时候出现在<strong>等号右边</strong>或者在<strong>执行语句中作为一元运算符出现</strong>时，表示取对象的地址。</p>
<p>​        <code>int a,b;</code> </p>
<p>​        <code>int *pa,*pb = &amp;b;</code> 声明指针变量<code>pa、pb</code>，<code>b</code>的地址赋给指针<code>pb</code>.</p>
<p>​        <code> pa = &amp;a;</code> <code>a</code>的地址赋给指针<code>pa</code>.</p>
<h3 id="赋值"><a href="#赋值" class="headerlink" title="赋值"></a>赋值</h3><p>​    <strong>存储类型 数据类型 *指针名 = 初始地址</strong></p>
<p>​    <strong>指针名 = 地址</strong></p>
<p>​        <em>数组名其实是一个不能被赋值的指针，即指针常量</em></p>
<p>​        <code>int a[10];</code></p>
<p>​        <code>int *ptr = a;</code></p>
<h4 id="空指针"><a href="#空指针" class="headerlink" title="空指针"></a>空指针</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//用0和NULL表示/</span><br><span class="hljs-type">int</span> *p;<br>p=<span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> *p = <span class="hljs-literal">NULL</span>;<br></code></pre></td></tr></table></figure>



<h4 id="void类型指针"><a href="#void类型指针" class="headerlink" title="void类型指针"></a>void类型指针</h4><p>​    <code>void</code>类型的指针经过显示转换之后可以访问任何类型的数据。一般只在指向的数据类型不确定时使用。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">void</span> *pv;<br><span class="hljs-type">int</span> i =<span class="hljs-number">5</span> ;<br>pv = &amp;i;<br><span class="hljs-type">int</span> *pint = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span> *&gt;(pv); <span class="hljs-comment">// void类型指针转换后赋给int型指针</span><br>cout &lt;&lt; <span class="hljs-string">&quot;*pint=&quot;</span> &lt;&lt; *pint &lt;&lt; endl;<br></code></pre></td></tr></table></figure>



<h4 id="指向常量的指针与指针类型的常量"><a href="#指向常量的指针与指针类型的常量" class="headerlink" title="指向常量的指针与指针类型的常量"></a>指向常量的指针与指针类型的常量</h4><p><span id="CONST_PTR&&PTR_CONST"></span></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//指向常量的指针</span><br><span class="hljs-comment">//指针可以乱指，但是必须不能用指针去改指向的值</span><br><span class="hljs-type">int</span> a;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> *p1 = &amp;a;<br><span class="hljs-type">int</span> b;<br>p1 = &amp;b; <span class="hljs-comment">//正确，p1本身的值可以改变</span><br>*p1 = <span class="hljs-number">1</span>;<span class="hljs-comment">//错误，不能改变p1所指向的对象的值</span><br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//指针类型的常量</span><br><span class="hljs-type">int</span> a,b;<br><span class="hljs-type">int</span>* <span class="hljs-type">const</span> p2 = &amp;a;<br>p2 = &amp;b; <span class="hljs-comment">//错误，p2是指针常量，值不能改变。</span><br></code></pre></td></tr></table></figure>



<h3 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h3><p>​    指针可以和整数进行加减运算。</p>
<p>​    <code>*(p1+n1)</code> 或<code> p1[n1]</code>表示<code>p1</code> 当前所指位置后方的第 <code>n1</code> 个数的内容。</p>
<p><img src="/img/C++_PtArray.png" srcset="/img/loading.gif" lazyload alt="C++指针"></p>
<h4 id="begin-与-end-函数"><a href="#begin-与-end-函数" class="headerlink" title="begin 与 end 函数"></a>begin 与 end 函数</h4><p>​    C++ 11 引入了<code>begin</code>和<code>end</code>函数，将数组作为参数。<code>begin</code>返回指向数组<strong>首元素</strong>的指针，<code>end</code>返回指向数组<strong>尾元素下一位置</strong>的指针。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//查找arr数组中第一个负数</span><br><span class="hljs-type">int</span> *pbeg =  <span class="hljs-built_in">begin</span>(arr),*pend = <span class="hljs-built_in">end</span>(arr);<br><span class="hljs-keyword">while</span>(pbeg != pend &amp;&amp; *pbeg &gt;= <span class="hljs-number">0</span>)<br>    ++pbeg;<br></code></pre></td></tr></table></figure>





<h4 id="一维实例"><a href="#一维实例" class="headerlink" title="一维实例"></a>一维实例</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-type">int</span> a[<span class="hljs-number">3</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)&#123;<br>		cout &lt;&lt; a[i] &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>	&#125;<br>	cout &lt;&lt; endl;<br>	<span class="hljs-type">int</span>* p = a;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>		cout &lt;&lt; *(p+i) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>	&#125;<br>	cout &lt;&lt; endl;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span>* q = a; q &lt; (a+<span class="hljs-number">3</span>); q++) &#123;<br>		cout &lt;&lt; *q &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>	&#125;<br>	cout &lt;&lt; endl;<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="指针数组与数组指针"><a href="#指针数组与数组指针" class="headerlink" title="指针数组与数组指针"></a>指针数组与数组指针</h3><p>​    数组中的每个元素都是指针变量。指针数组中的每个元素都必须是同一类型的指针。</p>
<p>​    <strong>数据类型  *数组名[下标表达式]</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-type">int</span> line1[] = &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> &#125;;<br>	<span class="hljs-type">int</span> line2[] = &#123; <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span> &#125;;<br>	<span class="hljs-type">int</span> line3[] = &#123; <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span> &#125;;<br>	<span class="hljs-comment">//指针数组 存放三个元素都是指针元素 </span><br>	<span class="hljs-comment">//line123 数组名 数组元素的首地址 指向数组的指针</span><br>	<span class="hljs-type">int</span>* pLine[<span class="hljs-number">3</span>] = &#123; line1,line2,line3 &#125;;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++)&#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++)&#123;<br>			cout &lt;&lt; *(*(pLine + i) + j) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>		&#125;<br>		cout &lt;&lt; endl;<br>	&#125;<br><br>	<span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>][<span class="hljs-number">3</span>] = &#123; &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;,&#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125;,&#123;<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>&#125; &#125;;<br>    <span class="hljs-comment">//把二维数组直接当作指针数组来访问</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++) &#123;<br>			cout &lt;&lt; *(*(arr + i) + j) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>		&#125;<br>		cout &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-comment">//数组指针 指向数组的首地址</span><br>	<span class="hljs-built_in">int</span>	(*arrPtr)[<span class="hljs-number">3</span>] = arr;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++) &#123;<br>			cout &lt;&lt; *(*(arrPtr + i) + j) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>		&#125;<br>		cout &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-comment">//指针数组 存放的每个元素都是指向各个数组首元素的指针(数组名)</span><br>    <span class="hljs-comment">//相当于前面的line1 line2 line3</span><br>	<span class="hljs-type">int</span>* ptrArr[<span class="hljs-number">3</span>] = &#123; arr[<span class="hljs-number">0</span>],arr[<span class="hljs-number">1</span>],arr[<span class="hljs-number">2</span>]&#125;;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++) &#123;<br>			cout &lt;&lt; *(*(ptrArr + i) + j) &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>		&#125;<br>		cout &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="/img/C++_PtArray2.jpg" srcset="/img/loading.gif" lazyload alt="指针数组与二维数组"></p>
<h3 id="指针作为函数参数"><a href="#指针作为函数参数" class="headerlink" title="指针作为函数参数"></a>指针作为函数参数</h3><ol>
<li>使得实参与形参指针指向共同的内存空间， 达到参数双向传递的目的。即通过被调函数中直接处理主函数中的数据而将函数的处理结果返回其调用者。</li>
<li>减少函数调用时候的开销。C++中可以通过引用和指针实现。</li>
<li>C++中指向函数的指针传递函数代码的首地址。</li>
</ol>
<p>​    <strong>如果函数体中不需要通过指针改变指针所指向变量的内容，应在参数表中将其声明为指向常量的指针，这样使得常对象被取地址后也可以作为该函数的参数。</strong><a href="#CONST_PTR&&PTR_CONST">指向常量的指针与指针类型的常量</a></p>
<h4 id="指针作为参数"><a href="#指针作为参数" class="headerlink" title="指针作为参数"></a>指针作为参数</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">floatSplit</span><span class="hljs-params">(<span class="hljs-type">float</span> x, <span class="hljs-type">int</span>* intPart, <span class="hljs-type">float</span>* floatPart)</span> </span>&#123;<br>	*intPart = <span class="hljs-built_in">static_cast</span>&lt;<span class="hljs-type">int</span>&gt;(x);<br>	*floatPart = x - *intPart;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-type">float</span> x=<span class="hljs-number">3.145</span>, f;<br>	<span class="hljs-type">int</span> n;<br>	<span class="hljs-built_in">floatSplit</span>(x, &amp;n, &amp;f);<br>	cout &lt;&lt; <span class="hljs-string">&quot;n:&quot;</span> &lt;&lt; n &lt;&lt; <span class="hljs-string">&quot;f&quot;</span> &lt;&lt; f &lt;&lt; endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="指针型函数"><a href="#指针型函数" class="headerlink" title="指针型函数"></a>指针型函数</h3><p>​    函数的返回值为<strong>指针类型</strong>，这个函数就是指针型函数。使用指针函数的主要目的就是要在函数结束时<strong>把大量的数据从被调函数返回到主调函数中</strong>。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++">数据类型 *函数名(参数表)&#123;<br>    函数体<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="函数返回数组指针"><a href="#函数返回数组指针" class="headerlink" title="函数返回数组指针"></a>函数返回数组指针</h4><p>​    因为数组不能被复制，因此不能直接返回数组，但是可以<strong>返回数组的指针</strong>。</p>
<ol>
<li>利用<strong>类型别名</strong>的方法简化操作。</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> arr[<span class="hljs-number">10</span>]; <span class="hljs-comment">// arr 类型别名 代表含有10个整数的数组</span><br><span class="hljs-keyword">using</span> arr = <span class="hljs-type">int</span>[<span class="hljs-number">10</span>]; <span class="hljs-comment">// arr等价声明</span><br><span class="hljs-function">arr *<span class="hljs-title">foo</span><span class="hljs-params">(<span class="hljs-type">int</span> i)</span></span>;<span class="hljs-comment">// foo返回一个指向含有10个整数的数组的指针</span><br></code></pre></td></tr></table></figure>

<ol start="2">
<li><p>不使用类型别名的话，数组的维度必须跟在函数的名字之后，函数的形参列表也跟在函数名字后面并且先于数组的维度。</p>
<p><strong>类型说明符  (*函数名 ( 参数表) )[数组维度]</strong></p>
<p><code>int (*foo(int i))[10]</code> 返回一个大小为10的整型数组指针。</p>
<p>C++ 11中提供了简化上述声明的方法。<strong>尾置返回类型</strong></p>
<p><code>auto foo(int i) -&gt; int(*)[10];</code> </p>
<p>接受一个<code>int</code>类型的参数，返回一个指向10个<code>int</code>类型的数组的指针。</p>
</li>
<li><p>如果知道函数返回的指针将指向哪个数组，就可以用<code>decltype</code>关键词声明返回类型。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> a[] = &#123;<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;;<br><span class="hljs-type">int</span> b[] = &#123;<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>&#125;;<br><br><span class="hljs-keyword">decltype</span>(a) *<span class="hljs-built_in">func</span>(<span class="hljs-type">int</span> i)&#123;<br>    <span class="hljs-keyword">return</span> (i%<span class="hljs-number">2</span>) ? &amp;a:&amp;b;<br>&#125;<br></code></pre></td></tr></table></figure></li>
<li><p>具体例子</p>
</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> arr[<span class="hljs-number">10</span>]; <span class="hljs-comment">//arr是一个含有10个整数的数组</span><br><span class="hljs-type">int</span> *p1[<span class="hljs-number">10</span>]; <span class="hljs-comment">//p1是一个含有10个指针的数组</span><br><span class="hljs-built_in">int</span> (*p2)[<span class="hljs-number">10</span>]; <span class="hljs-comment">//p2是一个指针，指向含有10个整数的数组arr。</span><br></code></pre></td></tr></table></figure>



<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-keyword">using</span> arrT = <span class="hljs-type">int</span>[<span class="hljs-number">5</span>];<span class="hljs-comment">//或者typedef int arrT[5];</span><br><span class="hljs-type">int</span> arry[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br><span class="hljs-function">arrT* <span class="hljs-title">func</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> &amp;arry;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">int</span> (*p)[<span class="hljs-number">5</span>] =<span class="hljs-built_in">func</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">5</span>;i++)<br>    &#123;<br>        cout&lt;&lt;*(*p + i)&lt;&lt;<span class="hljs-string">&quot; &quot;</span>&lt;&lt;endl;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-type">int</span> a[<span class="hljs-number">5</span>]=&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-built_in">int</span>(*<span class="hljs-built_in">make_array</span>())[<span class="hljs-number">5</span>]<span class="hljs-comment">//如果是引用的形式也可以</span><br>&#123;<br>    <span class="hljs-keyword">return</span> &amp;a;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-type">int</span> argc,<span class="hljs-type">char</span> *argv[])</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">int</span> (*p)[<span class="hljs-number">5</span>]=<span class="hljs-built_in">make_array</span>();<br>    cout&lt;&lt;*p&lt;&lt;endl;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i!=<span class="hljs-number">5</span>;++i)<br>    &#123;<br>        cout&lt;&lt;(**p)++&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<span class="hljs-comment">//*p只能得到数组的地址</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> arry[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">auto</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> -&gt; <span class="hljs-title">int</span><span class="hljs-params">(*)</span>[10]</span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">return</span> &amp;arry;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">int</span> (*p)[<span class="hljs-number">10</span>] =<span class="hljs-built_in">func</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">10</span>;i++)<br>    &#123;<br>        cout&lt;&lt;(**p)++&lt;&lt;<span class="hljs-string">&quot; &quot;</span>;<br>    &#125;<br>    cout&lt;&lt;endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;cstddef&gt;</span></span><br><span class="hljs-keyword">using</span> std::<span class="hljs-type">size_t</span>;<br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><span class="hljs-type">int</span> odd[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>&#125;;<br><span class="hljs-type">int</span> even[] = &#123;<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">8</span>&#125;;<br><span class="hljs-keyword">decltype</span>(odd) *<span class="hljs-built_in">arrPtr</span>(<span class="hljs-type">int</span> i)<br>&#123;<br>    <span class="hljs-keyword">return</span> (i % <span class="hljs-number">2</span>) ? &amp;odd : &amp;even; <span class="hljs-comment">// returns a pointer to the array</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">int</span> (*arrP)[<span class="hljs-number">5</span>] = <span class="hljs-built_in">arrPtr</span>(<span class="hljs-number">5</span>);  <span class="hljs-comment">// arrP points to an array of five ints</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; ++i)<br>        cout &lt;&lt; (*arrP)[i] &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> odd[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>&#125;;<br><span class="hljs-type">int</span> even[] = &#123;<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>,<span class="hljs-number">8</span>&#125;;<br><span class="hljs-keyword">decltype</span>(odd) &amp;<span class="hljs-built_in">arrPtr</span>(<span class="hljs-type">int</span> i)<br>&#123;<br>    <span class="hljs-keyword">return</span> (i % <span class="hljs-number">2</span>) ? odd : even; <span class="hljs-comment">// returns a pointer to the array</span><br>&#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-built_in">int</span> (&amp;arrP)[<span class="hljs-number">5</span>] = <span class="hljs-built_in">arrPtr</span>(<span class="hljs-number">5</span>);  <span class="hljs-comment">// arrP points to an array of five ints</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; ++i)<br>        cout &lt;&lt; (arrP)[i] &lt;&lt; endl;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="很重要的辨析"><a href="#很重要的辨析" class="headerlink" title="很重要的辨析"></a>很重要的辨析</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>][<span class="hljs-number">3</span>] = &#123; &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;,&#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125;,&#123;<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>&#125; &#125;;<br><span class="hljs-comment">//arr代表第一个元素的地址， 即第一个大小为3的数组的地址。</span><br><span class="hljs-comment">//arrPtr代表指向数组的指针，因此可以直接赋值。</span><br><span class="hljs-built_in">int</span>	(*arrPtr)[<span class="hljs-number">3</span>] = arr;<br><br><br><span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;; <br><span class="hljs-comment">//arr代表第一个元素的地址， arrPtr代表指向数组的指针</span><br><span class="hljs-comment">//&amp;arr代表数组arr的地址，即指向arr数组的指针，虽然可能&amp;arr和arr值一样</span><br><span class="hljs-built_in">int</span>	(*arrPtr)[<span class="hljs-number">3</span>] = &amp;arr;<br>为什么第四句话有取地址符而第二句话没有？<br></code></pre></td></tr></table></figure>

<p>​        在第二句代码中，数组名 <code>arr</code> 表示的是二维数组 <code>int arr[3][3]</code> 中第一个一维数组 <code>int arr[0]</code> 的地址，即 <code>arr</code> 等价于 <code>&amp;arr[0]</code>。因此，将 <code>arr</code> 直接赋值给指针 <code>arrPtr</code>，是可以正确的。</p>
<p>​        而在第四句代码中，数组名 <code>arr</code> 表示的是一维数组 <code>int arr[3]</code> 中第一个元素 <code>int arr[0]</code> 的地址。由于指针 <code>arrPtr</code> 的类型为 <code>int (*)[3]</code>，即指向一个包含 3 个 <code>int</code> 元素的数组的指针，因此需要使用取地址符 <code>&amp;</code> 将一维数组 <code>arr</code> 的地址取出，并强制转换为 <code>int (*)[3]</code> 类型的指针，才能正确地将其赋值给 <code>arrPtr</code>。</p>
<p>​        <strong>简而言之：数组中数组名代表第一个元素的地址。一维数组的数组名代表第一个元素的地址(&amp;a[0])，想赋值给(*p)[] （指向数组的指针），必须传数组开始的地址(虽然值上可能一样)，所以需要取地址符&amp;。二 吗数组中数组名代表第一个元素也就是第一个一维数组的地址，想赋值给(*p)[] (指向数组的指针)，可以直接赋值。</strong></p>
<h3 id="指向函数的指针"><a href="#指向函数的指针" class="headerlink" title="指向函数的指针"></a>指向函数的指针</h3><p>​    每个函数的函数名代表代码在内存中的起始地址。调用函数的通常形式<strong>“函数名 (参数表)”</strong>的实质就是<strong>“函数代码的首地址(参数表)”</strong>。</p>
<p>​    <strong>指向函数的指针</strong>(函数指针)就是用来存放函数代码首地址的变量。</p>
<p>​    <strong>数据类型 (* 函数指针名) (形参表)</strong></p>
<p>​    函数指针在使用前也要进行赋值，使指针指向一个已经存在的函数代码的起始地址。</p>
<p>​    <code>指针名 = 函数名</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print1</span><span class="hljs-params">(<span class="hljs-type">float</span>)</span> </span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;print1&quot;</span> &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print2</span><span class="hljs-params">(<span class="hljs-type">float</span> data)</span> </span>&#123;<br>	cout &lt;&lt; data &lt;&lt; endl;<br>&#125;<br><br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-built_in">void</span> (*test)(<span class="hljs-type">float</span>);<br>	test = print1;<br>	<span class="hljs-built_in">test</span>(<span class="hljs-number">2.0</span>);<br>	test = print2;<br>	<span class="hljs-built_in">test</span>(<span class="hljs-number">3.0</span>);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>​    可以使用<code>typedef</code>简化 </p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-keyword">typedef</span> <span class="hljs-title">void</span><span class="hljs-params">(*typeFuncPtr)</span><span class="hljs-params">(<span class="hljs-type">float</span>)</span></span>;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print1</span><span class="hljs-params">(<span class="hljs-type">float</span>)</span> </span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;print1&quot;</span> &lt;&lt; endl;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print2</span><span class="hljs-params">(<span class="hljs-type">float</span> data)</span> </span>&#123;<br>	cout &lt;&lt; data &lt;&lt; endl;<br>&#125;<br><br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	typeFuncPtr funcPtr;<br>	funcPtr = print1;<br>	<span class="hljs-built_in">funcPtr</span>(<span class="hljs-number">2.0</span>);<br>	funcPtr = print2;<br>	<span class="hljs-built_in">funcPtr</span>(<span class="hljs-number">3.0</span>);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="对象指针"><a href="#对象指针" class="headerlink" title="对象指针"></a>对象指针</h3><p>​    对象指针是用来存放对象地址的变量。</p>
<p>​    <strong>类名 *  对象指针名</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c++">Point* pointPtr;<br>Point p1;<br>pointPtr = &amp;p1;<br></code></pre></td></tr></table></figure>

<p>​    使用对象指针可以方便的访问对象的成员，但是使用之前一定要初始化，让它指向一个已经声明过的对象在使用。通过对象指针可以访问对象的公有成员。</p>
<p>​    <strong>对象指针名-&gt;成员名</strong> 等价于**(*对象指针名).成员名**</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fred</span>;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Barney</span>&#123;<br>  	Fred cFred; <span class="hljs-comment">//错误：类Fred的定义不完善，不能声明对象。</span><br>    Fred *ptrFred; <span class="hljs-comment">//正确，可以声明指向对象的指针。</span><br>&#125;;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fred</span>&#123;<br>    Barney y;<br>&#125;;<br></code></pre></td></tr></table></figure>



<h4 id="指向类的静态成员的指针"><a href="#指向类的静态成员的指针" class="headerlink" title="指向类的静态成员的指针"></a>指向类的静态成员的指针</h4><p>​    类的<strong>静态成员</strong>的访问是<strong>不依赖于对象</strong>的，因此可以用<strong>普通的指针</strong>来<strong>指向和访问静态成员</strong>。</p>
<h5 id="访问静态数据成员"><a href="#访问静态数据成员" class="headerlink" title="访问静态数据成员"></a>访问静态数据成员</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> y = <span class="hljs-number">0</span>) :<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;&#125;;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getX</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> x; &#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getY</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> y; &#125;<br>	<span class="hljs-comment">//声明静态数据成员</span><br>	<span class="hljs-type">static</span> <span class="hljs-type">int</span> count;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> x, y;<br><br>&#125;;<br><br><span class="hljs-comment">//静态数据成员定义和初始化</span><br><span class="hljs-type">int</span> Point::count = <span class="hljs-number">0</span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-function">Point <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>)</span></span>;<br>	<span class="hljs-comment">//int型指针指向静态成员</span><br>	<span class="hljs-type">int</span>* ptr = &amp;Point::count;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h5 id="访问静态函数成员"><a href="#访问静态函数成员" class="headerlink" title="访问静态函数成员"></a>访问静态函数成员</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> y = <span class="hljs-number">0</span>) :<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;<br>		count++;<br>	&#125;<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">const</span> Point&amp; p) :<span class="hljs-built_in">x</span>(p.x), <span class="hljs-built_in">y</span>(p.y) &#123;<br>		count++;<br>	&#125;<br>	~<span class="hljs-built_in">Point</span>() &#123; count--; &#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getX</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> x; &#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getY</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> y; &#125;<br>    <span class="hljs-comment">//静态函数成员</span><br>	<span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">showCount</span><span class="hljs-params">()</span> </span>&#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Object count=&quot;</span> &lt;&lt; count &lt;&lt; endl;<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> x, y;<br>	<span class="hljs-type">static</span> <span class="hljs-type">int</span> count;<br>&#125;;<br><br><span class="hljs-type">int</span> Point::count = <span class="hljs-number">0</span>;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">//指向静态成员函数时，右侧不需要使用&amp;</span><br>	<span class="hljs-built_in">void</span> (* showCountPTR)() = Point::showCount;<br>	<span class="hljs-function">Point <span class="hljs-title">pt</span><span class="hljs-params">(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>)</span></span>;<br>	cout &lt;&lt; <span class="hljs-string">&quot;Point A: &quot;</span> &lt;&lt; pt.<span class="hljs-built_in">getX</span>() &lt;&lt; <span class="hljs-string">&quot;,&quot;</span> &lt;&lt; pt.<span class="hljs-built_in">getY</span>() &lt;&lt; endl;<br>	<span class="hljs-built_in">showCountPTR</span>();<br>	<span class="hljs-function">Point <span class="hljs-title">pt2</span><span class="hljs-params">(pt)</span></span>;<br>	cout &lt;&lt; <span class="hljs-string">&quot;Point B: &quot;</span> &lt;&lt; pt2.<span class="hljs-built_in">getX</span>() &lt;&lt; <span class="hljs-string">&quot;,&quot;</span> &lt;&lt; pt2.<span class="hljs-built_in">getY</span>() &lt;&lt; endl;<br>	<span class="hljs-built_in">showCountPTR</span>();<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="this指针"><a href="#this指针" class="headerlink" title="this指针"></a>this指针</h4><p>​    <code>this</code>指针是一个隐含于某一个类的非静态成员函数中的特殊指针，用于<strong>指向正在被成员函数操作的对象。</strong></p>
<h6 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h6><p>​    每一次对成员函数的调用都存在一个目的对象，<code>this</code>指针就是指向这个目的对象的指针。<code>this</code>指针明确指出了成员函数当前所操作的数据所属的对象。</p>
<p>​    <code>this</code>指针实际上是<strong>类成员函数的一个隐含形式参数</strong>。当通过一个对象调用成员函数的时候，系统先将该对象的地址通过该参数传递给成员函数，成员函数对对象的数据成员进行操作时，就隐含使用了<code>this</code>指针。</p>
<p>​    <code>this</code>是一个指针常量，对于常成员函数，<code>this</code>同时又是一个指向常量的指针。在成员函数中，可以使用<code>*this</code>来标识正在调用该函数的对象。</p>
<h4 id="指向类的非静态成员的指针"><a href="#指向类的非静态成员的指针" class="headerlink" title="指向类的非静态成员的指针"></a>指向类的非静态成员的指针</h4><p>​    f类的成员自身也是一些变量、函数或者对象等。因此也可以将它们的地址存放到一个指针变量中。这样，可以通过指针直接指向对象的成员，进而可以通过这些指针访问对象的成员。</p>
<p>​    指向对象的指针使用前<strong>先声明、再赋值、然后引用。</strong></p>
<h5 id="声明-2"><a href="#声明-2" class="headerlink" title="声明"></a>声明</h5><p>​    <strong>类型说明符 类名::* 指针名;</strong>   声明指向数据成员的指针</p>
<p>​    <strong>类型说明符 (类名::* 指针名)(参数表);</strong> 声明指向函数成员的指针</p>
<h5 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h5><p>​    声明了指向成员的指针之后，需要对其进行<strong>赋值</strong>，也就是确定指向类的哪一个成员。</p>
<p>​    <strong>指针名 =  &amp;类名::数据成员名;</strong></p>
<h5 id="访问"><a href="#访问" class="headerlink" title="访问"></a>访问</h5><p>​    <em><strong>注：</strong></em>由于类的定义值确定了各个成员的类型、所占内存大小以及它们的相对位置，并不为数据成员分配具体的地址。上述赋值只说明了被赋值的指针是专门用来指向哪个数据成员的，以及指针中存放的数据成员在类中的相对位置。</p>
<p>​    由于类是通过对象实例化的，在声明类的对象时才为具体的对象分配内存空间。<strong>这时只要将对象在内存中的起始地址与成员指针中存放的相对偏移结合起来就可以访问到对象的数据成员</strong></p>
<p>​    <strong>访问数据成员：</strong></p>
<p>​    <code>对象名 .* 类成员指针名</code></p>
<p>​    <code>对象指针名-&gt; *类成员指针名</code></p>
<p>​    在一个类的作用域之外不能够对它的私有成员取地址。成员函数指针的声明、赋值、使用过程中，返回值类型、函数参数表一定要相互匹配。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>, <span class="hljs-type">int</span> y = <span class="hljs-number">0</span>) :<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;&#125;;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getX</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> x; &#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getY</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> y; &#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> x, y;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-function">Point <span class="hljs-title">p</span><span class="hljs-params">(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>)</span></span>;<br><br>	<span class="hljs-comment">//声明对象指针 ptPtr</span><br>	Point* ptPtr = &amp;p;<br><br>	<span class="hljs-comment">//声明 指向Point类中 int型的指针</span><br>	<span class="hljs-built_in">int</span> (Point::*funcPtr)() <span class="hljs-type">const</span>;<br><br>	<span class="hljs-comment">//因为没有实例化，只有相对地址</span><br>	<span class="hljs-comment">//将Point类成员函数相对地址赋值给funcPtr</span><br>	funcPtr = &amp;Point::getX;<br><br>	<span class="hljs-comment">//等价于</span><br>	<span class="hljs-built_in">int</span>(Point:: * funcPtr2)() <span class="hljs-type">const</span> = &amp;Point::getX;<br><br>	<span class="hljs-comment">//实际调用过程</span><br>	<span class="hljs-comment">//使用对象名访问 用. </span><br>	cout &lt;&lt; (p.*funcPtr)() &lt;&lt; endl;<br>	<span class="hljs-comment">//使用对象指针(绝对地址)访问 用-&gt;</span><br>	cout &lt;&lt;(ptPtr-&gt;*funcPtr)() &lt;&lt; endl;<br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;	<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="完整例子"><a href="#完整例子" class="headerlink" title="完整例子"></a>完整例子</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// Point.h 类文件</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">ifndef</span> _POINT_H</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> _POINT_H</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y);<br>	~<span class="hljs-built_in">Point</span>();<br>	<span class="hljs-comment">//静态函数成员</span><br>	<span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title">showCount</span><span class="hljs-params">()</span></span>;<br><br>	<span class="hljs-comment">//函数成员</span><br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getCount</span><span class="hljs-params">()</span></span>;<br>	<br>	<span class="hljs-comment">//数据成员</span><br>	<span class="hljs-type">int</span> publicInt=<span class="hljs-number">5</span>;<br>	<br>	<span class="hljs-comment">//静态数据成员</span><br>	<span class="hljs-type">static</span> <span class="hljs-type">int</span> publicStaticInt;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> x, y;<br>	<span class="hljs-type">static</span> <span class="hljs-type">int</span> count;<br>	<span class="hljs-type">const</span> <span class="hljs-type">int</span> test = <span class="hljs-number">3113212</span>;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">	TIPS:</span><br><span class="hljs-comment">	如果有const限定的成员变量可以直接在类内初始化。</span><br><span class="hljs-comment">	非const限定的的要在类外初始化。</span><br><span class="hljs-comment">*/</span><br>&#125;;<br><br><br><span class="hljs-meta">#<span class="hljs-keyword">endif</span> <span class="hljs-comment">// !_POINT_H</span></span><br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//points.cpp 类的实现文件</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;point.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;iostream&gt;</span></span><br><br><br><span class="hljs-comment">//静态数据成员在类外定义</span><br><span class="hljs-type">int</span> Point::count = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> Point::publicStaticInt = <span class="hljs-number">10</span>;<br><br><br>Point::<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y) :<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;<br>	count++;<br>&#125;;<br><br>Point::~<span class="hljs-built_in">Point</span>() &#123;<br>	count--;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Point::getCount</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-keyword">return</span> count;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">Point::showCount</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-keyword">return</span> count;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//main.cpp 主函数</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&quot;point.h&quot;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-function">Point <span class="hljs-title">pt</span><span class="hljs-params">(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>)</span></span>;<br>	<span class="hljs-comment">//指向 对象pt的指针</span><br>	Point* ptPtr = &amp;pt;<br><br>	<span class="hljs-comment">//指向类的非静态数据成员的指针</span><br>	<span class="hljs-built_in">int</span>(Point:: * ptMemberIntPtr) = &amp;Point::publicInt;<br>	<br>	<span class="hljs-comment">//指向类的静态数据成员的指针</span><br>	<span class="hljs-type">int</span>* ptMemberStaticIntPtr = &amp;Point::publicStaticInt;<br><br><br>	<span class="hljs-comment">/*</span><br><span class="hljs-comment">		指向成员函数的指针，</span><br><span class="hljs-comment">		当指向普通成员函数时，需要使用&amp;；</span><br><span class="hljs-comment">		指向静态成员函数时，不需要使用&amp;。</span><br><span class="hljs-comment">		造成这一现象的原因是C++中关于左值的规定。</span><br><span class="hljs-comment">		https://blog.csdn.net/Sy__TenMoons/article/details/89598613</span><br><span class="hljs-comment">	*/</span><br>	<span class="hljs-comment">//指向类的静态函数成员的指针</span><br>	<span class="hljs-built_in">int</span> (*showCountPtr)() = Point::showCount;<br><br>	<span class="hljs-comment">//指向类的非静态函数成员的指针</span><br>	<span class="hljs-built_in">int</span> (Point:: * getCountPtr)() = &amp;Point::getCount;<br><br>	<br>	<br>	<span class="hljs-comment">//对象名称索引对象数据成员</span><br>	cout &lt;&lt; <span class="hljs-string">&quot;pt.publicInt  &quot;</span> &lt;&lt; pt.publicInt &lt;&lt; endl;<br><br>	<span class="hljs-comment">//对象指针索引对象数据成员</span><br>	cout &lt;&lt; <span class="hljs-string">&quot;ptPtr-&gt;publicInt  &quot;</span> &lt;&lt; ptPtr-&gt;publicInt &lt;&lt; endl;<br><br><br>	<span class="hljs-comment">//用类名直接索引对象静态数据成员</span><br>	cout &lt;&lt; <span class="hljs-string">&quot;publicStaticInt  &quot;</span> &lt;&lt; Point::publicStaticInt &lt;&lt; endl;<br><br><br><br>	<span class="hljs-comment">//对象名称用指向类的数据成员访问类的数据成员</span><br>	cout &lt;&lt; <span class="hljs-string">&quot;ptPtr-&gt;*ptMemberIntPtrt  &quot;</span> &lt;&lt; pt.*ptMemberIntPtr &lt;&lt; endl;<br><br>	<span class="hljs-comment">//指向对象的指针用指向类的数据成员访问类的数据成员</span><br>	cout &lt;&lt; <span class="hljs-string">&quot;ptPtr-&gt;*ptMemberIntPtrt  &quot;</span> &lt;&lt; ptPtr-&gt;*ptMemberIntPtr &lt;&lt; endl;<br>	<br><br>	<span class="hljs-comment">//普通指针访问类的静态数据成员</span><br>	cout &lt;&lt; <span class="hljs-string">&quot;*ptMemberStaticIntPtr  &quot;</span> &lt;&lt; *ptMemberStaticIntPtr &lt;&lt; endl;<br>	<br><br>	<span class="hljs-comment">//对象名称用指向类的函数成员访问类的函数成员</span><br>	cout &lt;&lt; <span class="hljs-string">&quot;(pt.*getCountPtr)()  &quot;</span> &lt;&lt; (pt.*getCountPtr)() &lt;&lt; endl;<br><br>	<span class="hljs-comment">//指向对象的指针用指向类的函数成员访问类的函数成员</span><br>	cout &lt;&lt; <span class="hljs-string">&quot;(ptPtr-&gt;*getCountPtr)()  &quot;</span> &lt;&lt; (ptPtr-&gt;*getCountPtr)() &lt;&lt; endl;<br><br>	<span class="hljs-comment">//普通指针访问类的静态函数成员</span><br>	cout &lt;&lt; <span class="hljs-string">&quot;(*showCountPtr)()  &quot;</span> &lt;&lt; (*showCountPtr)() &lt;&lt; endl;<br><br>	<span class="hljs-comment">//对象名称访问函数成员</span><br>	pt.<span class="hljs-built_in">getCount</span>();<br><br>	<span class="hljs-comment">//指向对象的指针访问类的数据成员</span><br>	ptPtr-&gt;<span class="hljs-built_in">getCount</span>();<br><br><br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//结果</span><br>pt.publicInt  <span class="hljs-number">5</span><br>ptPtr-&gt;publicInt  <span class="hljs-number">5</span><br>publicStaticInt  <span class="hljs-number">10</span><br>ptPtr-&gt;*ptMemberIntPtrt  <span class="hljs-number">5</span><br>ptPtr-&gt;*ptMemberIntPtrt  <span class="hljs-number">5</span><br>*ptMemberStaticIntPtr  <span class="hljs-number">10</span><br>(pt.*getCountPtr)()  <span class="hljs-number">1</span><br>(ptPtr-&gt;*getCountPtr)()  <span class="hljs-number">1</span><br>(*showCountPtr)()  <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>



<h2 id="动态内存分配"><a href="#动态内存分配" class="headerlink" title="动态内存分配"></a>动态内存分配</h2><p>​        C++中<strong>动态内存分配</strong>技术可以保证程序在运行过程中按实际需要申请适量的内存，使用结束后还可以释放。</p>
<p>​        这种在程序运行过程中申请和释放的存储单元也称为<strong>堆对象</strong>。</p>
<p>​        在C++程序中，使用<code>new</code> 和<code>delete</code>运算符，建立和删除堆对象，动态分配内存。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>​        </p>
<h4 id="new"><a href="#new" class="headerlink" title="new"></a>new</h4><p>​    <strong>new 数据类型 (初始化参数列表)</strong></p>
<p>​    <em>说明：</em>该语句在运行过程中申请分配用于指定类型数据的内存空间，并根据初始化参数别表中给出的值进行初始化。如果内存申请成功，<code>new</code>运算便<strong>返回一个指向新分配内存首地址的类型的指针，</strong>可以通过这个指针堆堆对象进行访问。</p>
<h5 id="普通对象"><a href="#普通对象" class="headerlink" title="普通对象"></a>普通对象</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">//动态分配了int类型数据的内存空间</span><br><span class="hljs-comment">//将初值2放到该空间中</span><br><span class="hljs-comment">//该内存空间的首地址赋给point</span><br><span class="hljs-type">int</span>* point;<br>point = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">2</span>); <br><br><span class="hljs-type">int</span>* point = <span class="hljs-keyword">new</span> <span class="hljs-type">int</span>; <span class="hljs-comment">//不赋初值</span><br><span class="hljs-type">int</span>* point = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>();<span class="hljs-comment">//默认用0对对象进行初始化</span><br><br><span class="hljs-comment">//若用户定义了默认构造函数，则以下两种写法效果相同</span><br><span class="hljs-comment">//若未定义默认构造函数，系统会使用默认构造函数</span><br><span class="hljs-comment">//并且new Object()创建对象时还会为基本数据类型和指针类型的成员赋初值0</span><br>Object obj = <span class="hljs-keyword">new</span> Object;<br>Object obj = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>();<br><br></code></pre></td></tr></table></figure>



<h5 id="数组对象"><a href="#数组对象" class="headerlink" title="数组对象"></a>数组对象</h5><p>​    <strong>new 类型名 [数组长度]</strong></p>
<p>​    <em>说明：</em><code>new</code>关键字创建数组之后，<code>[]</code>后仍可以添加<code>()</code>，但括号内不能带任何啊参数。加上<code>()</code>后，代表对数组的每个元素的初始化。</p>
<h4 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h4><h5 id="普通对象-1"><a href="#普通对象-1" class="headerlink" title="普通对象"></a>普通对象</h5><p>​    <strong>delete 指针名</strong></p>
<p>​    <em>说明：</em>该语句用来删除由<code>new</code>建立的对象，释放指针所指向的内存空间。如果被删除的是<strong>对象</strong>，该对象的<strong>析构函数将被调用</strong>。对于<code>new</code>建立的对象，只能使用<code>delete</code>进行<strong>一次</strong>删除操作。如果对一块内存空间多次使用<code>delete</code>进行删除将会导致运行错误。</p>
<h5 id="数组对象-1"><a href="#数组对象-1" class="headerlink" title="数组对象"></a>数组对象</h5><p>​        **delete [] 指针名 **</p>
<h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><h4 id="一般实例"><a href="#一般实例" class="headerlink" title="一般实例"></a>一般实例</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Point</span>() :<span class="hljs-built_in">x</span>(<span class="hljs-number">0</span>), <span class="hljs-built_in">y</span>(<span class="hljs-number">0</span>) &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Default Constructor called.&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y) :<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Default Constructor2 called.&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	~<span class="hljs-built_in">Point</span>() &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Destructor called.&quot;</span>&lt;&lt;endl;<br>	&#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getX</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> x; &#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getY</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> y; &#125;<br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">move</span><span class="hljs-params">(<span class="hljs-type">int</span> newX, <span class="hljs-type">int</span> newY)</span> </span>&#123;<br>		x = newX;<br>		y = newY;<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> x, y;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	cout &lt;&lt; <span class="hljs-string">&quot;Step one:&quot;</span> &lt;&lt; endl;<br>	<span class="hljs-comment">//开辟一个Point类型的内存空间</span><br>	<span class="hljs-comment">//使用默认构造函数初始化</span><br>	<span class="hljs-comment">//将该内存空间的首地址赋给ptr1</span><br>	Point* ptr1 = <span class="hljs-keyword">new</span> Point;<br>	<span class="hljs-comment">//将ptr1指向的内存空间释放</span><br>	<span class="hljs-keyword">delete</span> ptr1;<br>	cout &lt;&lt; <span class="hljs-string">&quot;Step two:&quot;</span> &lt;&lt; endl;<br>	<span class="hljs-comment">//开辟一个Point类型的内存空间</span><br>	<span class="hljs-comment">//使用自定义的构造函数初始化</span><br>	<span class="hljs-comment">//将该内存空间的首地址赋给ptr1</span><br>	ptr1 = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Point</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<br>	<span class="hljs-comment">//将ptr1指向的内存空间释放</span><br>	<span class="hljs-keyword">delete</span> ptr1;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="动态数组"><a href="#动态数组" class="headerlink" title="动态数组"></a>动态数组</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Point</span>() :<span class="hljs-built_in">x</span>(<span class="hljs-number">0</span>), <span class="hljs-built_in">y</span>(<span class="hljs-number">0</span>) &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Default Constructor called.&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y) :<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Default Constructor2 called.&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	~<span class="hljs-built_in">Point</span>() &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Destructor called.&quot;</span>&lt;&lt;endl;<br>	&#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getX</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> x; &#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getY</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> y; &#125;<br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">move</span><span class="hljs-params">(<span class="hljs-type">int</span> newX, <span class="hljs-type">int</span> newY)</span> </span>&#123;<br>		x = newX;<br>		y = newY;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Moving to:(&quot;</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;,&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;)&quot;</span> &lt;&lt; endl;<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> x, y;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	Point* ptr = <span class="hljs-keyword">new</span> Point[<span class="hljs-number">2</span>];<br>	ptr[<span class="hljs-number">0</span>].<span class="hljs-built_in">move</span>(<span class="hljs-number">5</span>,<span class="hljs-number">10</span>);<br>	ptr[<span class="hljs-number">1</span>].<span class="hljs-built_in">move</span>(<span class="hljs-number">15</span>, <span class="hljs-number">20</span>);<br>	<span class="hljs-comment">//等价 对象名 . == 指向对象的指针 -&gt; </span><br>	ptr-&gt;<span class="hljs-built_in">move</span>(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>);<br>	(ptr+<span class="hljs-number">1</span>)-&gt;<span class="hljs-built_in">move</span>(<span class="hljs-number">15</span>, <span class="hljs-number">20</span>);<br>	cout &lt;&lt; <span class="hljs-string">&quot;Deleting ...&quot;</span> &lt;&lt; endl;<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>





<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;cassert&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Point</span> &#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-built_in">Point</span>() :<span class="hljs-built_in">x</span>(<span class="hljs-number">0</span>), <span class="hljs-built_in">y</span>(<span class="hljs-number">0</span>) &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Default Constructor called.&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	<span class="hljs-built_in">Point</span>(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y) :<span class="hljs-built_in">x</span>(x), <span class="hljs-built_in">y</span>(y) &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Default Constructor2 called.&quot;</span> &lt;&lt; endl;<br>	&#125;<br>	~<span class="hljs-built_in">Point</span>() &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Destructor called.&quot;</span>&lt;&lt;endl;<br>	&#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getX</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> x; &#125;<br>	<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getY</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123; <span class="hljs-keyword">return</span> y; &#125;<br>	<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">move</span><span class="hljs-params">(<span class="hljs-type">int</span> newX, <span class="hljs-type">int</span> newY)</span> </span>&#123;<br>		x = newX;<br>		y = newY;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Moving to:(&quot;</span> &lt;&lt; x &lt;&lt; <span class="hljs-string">&quot;,&quot;</span> &lt;&lt; y &lt;&lt; <span class="hljs-string">&quot;)&quot;</span> &lt;&lt; endl;<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-type">int</span> x, y;<br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayOfPoints</span> &#123;<br><span class="hljs-keyword">public</span>:<br>	<span class="hljs-comment">//构造函数，创建size大小的points数组</span><br>	<span class="hljs-built_in">ArrayOfPoints</span>(<span class="hljs-type">int</span> size) :<span class="hljs-built_in">size</span>(size) &#123;<br>		points = <span class="hljs-keyword">new</span> Point[size];<br>	&#125;<br>	<span class="hljs-comment">//析构函数</span><br>	~<span class="hljs-built_in">ArrayOfPoints</span>() &#123;<br>		cout &lt;&lt; <span class="hljs-string">&quot;Deleting... &quot;</span> &lt;&lt; endl;<br>		<span class="hljs-keyword">delete</span>[] points;<br>	&#125;<br>	<span class="hljs-comment">//根据下标index返回Point类的对象</span><br>	<span class="hljs-function">Point&amp; <span class="hljs-title">element</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>		<span class="hljs-built_in">assert</span>(index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt; size);<br>		<span class="hljs-keyword">return</span> points[index];<br>	&#125;<br><span class="hljs-keyword">private</span>:<br>	<span class="hljs-comment">//定义points指针</span><br>	Point* points;<br>	<span class="hljs-type">int</span> size;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-type">int</span> count = <span class="hljs-number">2</span>;<br><br>	<span class="hljs-comment">//points是个ArrayOfPoints对象</span><br>	<span class="hljs-function">ArrayOfPoints <span class="hljs-title">points</span><span class="hljs-params">(count)</span></span>;<br>	<br>	points.<span class="hljs-built_in">element</span>(<span class="hljs-number">0</span>).<span class="hljs-built_in">move</span>(<span class="hljs-number">5</span>, <span class="hljs-number">0</span>);<br>	points.<span class="hljs-built_in">element</span>(<span class="hljs-number">1</span>).<span class="hljs-built_in">move</span>(<span class="hljs-number">15</span>, <span class="hljs-number">20</span>);<br>	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="动态多维数组"><a href="#动态多维数组" class="headerlink" title="动态多维数组"></a>动态多维数组</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;<br><br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>	<span class="hljs-built_in">float</span> (* cp)[<span class="hljs-number">4</span>] = <span class="hljs-keyword">new</span> <span class="hljs-type">float</span>[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>];<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j++) &#123;<br>			*(*(cp + i) + j) = (i+<span class="hljs-number">1</span>) * (j+<span class="hljs-number">1</span>);<br>		&#125;<br>	&#125;<br><br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j++) &#123;<br>			cout&lt;&lt;*(*(cp + i) + j)&lt;&lt;<span class="hljs-string">&quot;  &quot;</span>;<br>		&#125;<br>	&#125;<br><br>	cout &lt;&lt; endl;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) &#123;<br>		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">4</span>; j++) &#123;<br>			cout &lt;&lt; cp[i][j] &lt;&lt; <span class="hljs-string">&quot;  &quot;</span>;<br>		&#125;<br>	&#125;<br>    <br>    <span class="hljs-keyword">delete</span>[] cp;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>


                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Notes/" class="category-chain-item">Notes</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/C/">#C++</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>C++ 进阶笔记</div>
      <div>https://anonymouslosty.github.io/2023/03/31/C++ 进阶笔记/C++ 进阶笔记/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Ling yi</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年3月31日</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>许可协议</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - 署名">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/03/31/C++%20%E5%9F%BA%E7%A1%80%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/C++%20%E5%9F%BA%E7%A1%80%E5%A4%8D%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="C++ 基础复习笔记">
                        <span class="hidden-mobile">C++ 基础复习笔记</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>
  </div>
</div>





  



  



  



  



  


  
  





  <script>
  Fluid.utils.createScript('https://lib.baomitu.com/mermaid/8.14.0/mermaid.min.js', function() {
    mermaid.initialize({"theme":"default"});
  });
</script>






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.1/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
